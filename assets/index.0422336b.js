(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(l){if(l.ep)return;l.ep=!0;const r=s(l);fetch(l.href,r)}})();function N(){}function me(e){return e()}function oe(){return Object.create(null)}function K(e){e.forEach(me)}function ge(e){return typeof e=="function"}function P(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ve(e){return Object.keys(e).length===0}function re(e){return e==null?"":e}function v(e,t){e.appendChild(t)}function C(e,t,s){e.insertBefore(t,s||null)}function E(e){e.parentNode.removeChild(e)}function de(e,t){for(let s=0;s<e.length;s+=1)e[s]&&e[s].d(t)}function $(e){return document.createElement(e)}function T(e){return document.createTextNode(e)}function L(){return T(" ")}function x(e,t,s,n){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)}function b(e,t,s){s==null?e.removeAttribute(t):e.getAttribute(t)!==s&&e.setAttribute(t,s)}function be(e){return Array.from(e.childNodes)}function Y(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}let R;function Q(e){R=e}function ye(){if(!R)throw new Error("Function called outside component initialization");return R}function ke(e){ye().$$.on_mount.push(e)}const U=[],M=[],W=[],ee=[],$e=Promise.resolve();let te=!1;function we(){te||(te=!0,$e.then(pe))}function ne(e){W.push(e)}function q(e){ee.push(e)}const Z=new Set;let V=0;function pe(){const e=R;do{for(;V<U.length;){const t=U[V];V++,Q(t),Ee(t.$$)}for(Q(null),U.length=0,V=0;M.length;)M.pop()();for(let t=0;t<W.length;t+=1){const s=W[t];Z.has(s)||(Z.add(s),s())}W.length=0}while(U.length);for(;ee.length;)ee.pop()();te=!1,Z.clear(),Q(e)}function Ee(e){if(e.fragment!==null){e.update(),K(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ne)}}const X=new Set;let G;function _e(){G={r:0,c:[],p:G}}function he(){G.r||K(G.c),G=G.p}function I(e,t){e&&e.i&&(X.delete(e),e.i(t))}function O(e,t,s,n){if(e&&e.o){if(X.has(e))return;X.add(e),G.c.push(()=>{X.delete(e),n&&(s&&e.d(1),n())}),e.o(t)}else n&&n()}function z(e,t,s){const n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=s,s(e.$$.ctx[n]))}function H(e){e&&e.c()}function D(e,t,s,n){const{fragment:l,on_mount:r,on_destroy:o,after_update:f}=e.$$;l&&l.m(t,s),n||ne(()=>{const i=r.map(me).filter(ge);o?o.push(...i):K(i),e.$$.on_mount=[]}),f.forEach(ne)}function J(e,t){const s=e.$$;s.fragment!==null&&(K(s.on_destroy),s.fragment&&s.fragment.d(t),s.on_destroy=s.fragment=null,s.ctx=[])}function Se(e,t){e.$$.dirty[0]===-1&&(U.push(e),we(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function j(e,t,s,n,l,r,o,f=[-1]){const i=R;Q(e);const a=e.$$={fragment:null,ctx:null,props:r,update:N,not_equal:l,bound:oe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(i?i.$$.context:[])),callbacks:oe(),dirty:f,skip_bound:!1,root:t.target||i.$$.root};o&&o(a.root);let c=!1;if(a.ctx=s?s(e,t.props||{},(u,p,...w)=>{const B=w.length?w[0]:p;return a.ctx&&l(a.ctx[u],a.ctx[u]=B)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](B),c&&Se(e,u)),p}):[],a.update(),c=!0,K(a.before_update),a.fragment=n?n(a.ctx):!1,t.target){if(t.hydrate){const u=be(t.target);a.fragment&&a.fragment.l(u),u.forEach(E)}else a.fragment&&a.fragment.c();t.intro&&I(e.$$.fragment),D(e,t.target,t.anchor,t.customElement),pe()}Q(i)}class F{$destroy(){J(this,1),this.$destroy=N}$on(t,s){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(s),()=>{const l=n.indexOf(s);l!==-1&&n.splice(l,1)}}$set(t){this.$$set&&!ve(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Ce(e){let t,s,n;return{c(){t=$("button"),t.textContent="Mark the time",b(t,"class","svelte-uie9cd")},m(l,r){C(l,t,r),s||(n=x(t,"click",e[0]),s=!0)},p:N,i:N,o:N,d(l){l&&E(t),s=!1,n()}}}function Ne(e,t,s){let{event:n}=t,l=null;const r=()=>{const o=new Date;if(n.stamps.length>=1){let i=new Date(n.stamps[n.stamps.length-1].timestamp);l=o-i}var f=0;n.stamps.length>0&&(f=n.stamps.at(-1).id+1),n.stamps.push({id:f,timestamp:o.getTime(),diff:l}),s(1,n)};return e.$$set=o=>{"event"in o&&s(1,n=o.event)},[r,n]}class Be extends F{constructor(t){super(),j(this,t,Ne,Ce,P,{event:1})}}function ie(e){let t,s,n;return{c(){t=T("(+"),s=T(e[2]),n=T(")")},m(l,r){C(l,t,r),C(l,s,r),C(l,n,r)},p(l,r){r&4&&Y(s,l[2])},d(l){l&&E(t),l&&E(s),l&&E(n)}}}function Ie(e){let t,s=e[1]+1+"",n,l,r=e[4].toLocaleString("en-GB")+"",o,f,i,a,c=e[2]&&ie(e);return{c(){t=$("li"),n=T(s),l=T(`) 
  `),o=T(r),f=L(),c&&c.c(),b(t,"class","svelte-16rxukt")},m(u,p){C(u,t,p),v(t,n),v(t,l),v(t,o),v(t,f),c&&c.m(t,null),i||(a=x(t,"click",e[6]),i=!0)},p(u,[p]){p&2&&s!==(s=u[1]+1+"")&&Y(n,s),u[2]?c?c.p(u,p):(c=ie(u),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i:N,o:N,d(u){u&&E(t),c&&c.d(),i=!1,a()}}}function Le(e,t,s){let{stamp:n}=t,{stamps:l}=t,{idx:r}=t;const o=u=>{s(5,l=l.filter(p=>p.id!==u)),s(5,l)},f=u=>{if(u==null)return null;if(u<60)return u+" seconds";if(u<3600){let p=parseInt(u/3600);p<10&&(p="0"+p);let w=Math.round(u%3600/60);return w<10&&(w="0"+w),p+":"+w}else if(u<86400){let p=parseInt(u/86400),w=Math.round(u%86400/3600);return p+" days, "+w+" hours"}},i=new Date(n.timestamp);var a=f(parseInt(n.diff/1e3));n.diff==null&&(a=null);const c=()=>o(n.id);return e.$$set=u=>{"stamp"in u&&s(0,n=u.stamp),"stamps"in u&&s(5,l=u.stamps),"idx"in u&&s(1,r=u.idx)},[n,r,a,o,i,l,c]}class Oe extends F{constructor(t){super(),j(this,t,Le,Ie,P,{stamp:0,stamps:5,idx:1})}}function ue(e,t,s){const n=e.slice();return n[6]=t[s],n[8]=s,n}function ae(e){let t,s,n;function l(o){e[5](o)}let r={stamp:e[6],idx:e[8]};return e[0].stamps!==void 0&&(r.stamps=e[0].stamps),t=new Oe({props:r}),M.push(()=>z(t,"stamps",l)),{c(){H(t.$$.fragment)},m(o,f){D(t,o,f),n=!0},p(o,f){const i={};f&1&&(i.stamp=o[6]),!s&&f&1&&(s=!0,i.stamps=o[0].stamps,q(()=>s=!1)),t.$set(i)},i(o){n||(I(t.$$.fragment,o),n=!0)},o(o){O(t.$$.fragment,o),n=!1},d(o){J(t,o)}}}function xe(e){let t,s,n=e[0].name+"",l,r,o,f,i,a,c,u,p;function w(_){e[4](_)}let B={};e[0]!==void 0&&(B.event=e[0]),o=new Be({props:B}),M.push(()=>z(o,"event",w));let g=e[0].stamps,m=[];for(let _=0;_<g.length;_+=1)m[_]=ae(ue(e,g,_));const y=_=>O(m[_],1,1,()=>{m[_]=null});return{c(){t=$("section"),s=$("h1"),l=T(n),r=L(),H(o.$$.fragment),i=L(),a=$("ul");for(let _=0;_<m.length;_+=1)m[_].c();b(s,"class","svelte-1pkkwzz"),b(a,"class","svelte-1pkkwzz"),b(t,"class","event")},m(_,k){C(_,t,k),v(t,s),v(s,l),v(t,r),D(o,t,null),v(t,i),v(t,a);for(let d=0;d<m.length;d+=1)m[d].m(a,null);c=!0,u||(p=x(s,"click",e[3]),u=!0)},p(_,[k]){(!c||k&1)&&n!==(n=_[0].name+"")&&Y(l,n);const d={};if(!f&&k&1&&(f=!0,d.event=_[0],q(()=>f=!1)),o.$set(d),k&1){g=_[0].stamps;let h;for(h=0;h<g.length;h+=1){const A=ue(_,g,h);m[h]?(m[h].p(A,k),I(m[h],1)):(m[h]=ae(A),m[h].c(),I(m[h],1),m[h].m(a,null))}for(_e(),h=g.length;h<m.length;h+=1)y(h);he()}},i(_){if(!c){I(o.$$.fragment,_);for(let k=0;k<g.length;k+=1)I(m[k]);c=!0}},o(_){O(o.$$.fragment,_),m=m.filter(Boolean);for(let k=0;k<m.length;k+=1)O(m[k]);c=!1},d(_){_&&E(t),J(o),de(m,_),u=!1,p()}}}function Te(e,t,s){let{event:n}=t,{events:l}=t;const r=a=>{!confirm("Are you sure you want to delete this event?")||(s(2,l=l.filter(c=>c.id!==a)),s(2,l))},o=()=>r(n.id);function f(a){n=a,s(0,n)}function i(a){e.$$.not_equal(n.stamps,a)&&(n.stamps=a,s(0,n))}return e.$$set=a=>{"event"in a&&s(0,n=a.event),"events"in a&&s(2,l=a.events)},[n,r,l,o,f,i]}class Me extends F{constructor(t){super(),j(this,t,Te,xe,P,{event:0,events:2})}}function Ae(e){let t,s,n;return{c(){t=$("button"),t.textContent="Create event",b(t,"class","svelte-1qmklng")},m(l,r){C(l,t,r),s||(n=x(t,"click",e[0]),s=!0)},p:N,i:N,o:N,d(l){l&&E(t),s=!1,n()}}}function qe(e,t,s){let{events:n}=t;const l=()=>{let r=prompt("Enter event name");if(r){let o=0;n.length>0&&(o=n.at(-1).id+1),n.push({id:o,name:r,stamps:[]}),s(1,n)}};return e.$$set=r=>{"events"in r&&s(1,n=r.events)},[l,n]}class ze extends F{constructor(t){super(),j(this,t,qe,Ae,P,{events:1})}}function De(e){let t,s,n,l,r;return{c(){t=$("button"),s=T("Change theme to "),n=T(e[0])},m(o,f){C(o,t,f),v(t,s),v(t,n),l||(r=x(t,"click",e[1]),l=!0)},p(o,[f]){f&1&&Y(n,o[0])},i:N,o:N,d(o){o&&E(t),l=!1,r()}}}function Je(e,t,s){let{theme:n}=t,l;const r=()=>{s(2,n=l),document.getElementById("settings").getElementsByTagName("div")[0].classList.toggle("hidden")};return e.$$set=o=>{"theme"in o&&s(2,n=o.theme)},e.$$.update=()=>{e.$$.dirty&4&&s(0,l=n=="dark"?"light":"dark")},[l,r,n]}class Pe extends F{constructor(t){super(),j(this,t,Je,De,P,{theme:2})}}function je(e){let t,s,n,l,r,o,f,i,a,c,u,p,w,B;return{c(){t=$("button"),t.textContent="Export",s=L(),n=$("section"),l=$("h3"),l.textContent="Please copy the following string",r=L(),o=$("input"),f=L(),i=$("button"),i.textContent="Close",a=L(),c=$("button"),c.textContent="Copy",u=L(),p=$("button"),p.textContent="Import",b(t,"class","svelte-oah29f"),b(l,"class","svelte-oah29f"),b(o,"type","text"),b(o,"class","svelte-oah29f"),b(i,"class","svelte-oah29f"),b(c,"class","svelte-oah29f"),b(n,"class","export hidden svelte-oah29f"),b(p,"class","svelte-oah29f")},m(g,m){C(g,t,m),C(g,s,m),C(g,n,m),v(n,l),v(n,r),v(n,o),v(n,f),v(n,i),v(n,a),v(n,c),C(g,u,m),C(g,p,m),w||(B=[x(t,"click",e[0]),x(i,"click",e[2]),x(c,"click",e[3]),x(p,"click",e[1])],w=!0)},p:N,i:N,o:N,d(g){g&&E(t),g&&E(s),g&&E(n),g&&E(u),g&&E(p),w=!1,K(B)}}}function Fe(e,t,s){let{data:n}=t;var l,r;const o=()=>{l=document.getElementsByClassName("export")[0],r=l.getElementsByTagName("input")[0],r.value=JSON.stringify(n),l.classList.remove("hidden"),r.focus(),r.select()},f=()=>{let u=prompt("Paste encoded data below");u&&(s(4,n=JSON.parse(u)),c())},i=()=>{l.classList.add("hidden"),c()},a=()=>{navigator.clipboard.writeText(JSON.stringify(n)).then(function(){},function(){console.error("Unable to write to clipboard. :-(")}),i()},c=()=>{document.getElementById("settings").getElementsByTagName("div")[0].classList.add("hidden")};return e.$$set=u=>{"data"in u&&s(4,n=u.data)},[o,f,i,a,n]}class Ge extends F{constructor(t){super(),j(this,t,Fe,je,P,{data:4})}}function He(e){let t,s,n,l,r,o,f,i,a,c,u,p;function w(y){e[2](y)}let B={};e[0]!==void 0&&(B.data=e[0]),n=new Ge({props:B}),M.push(()=>z(n,"data",w));function g(y){e[3](y)}let m={};return e[0].theme!==void 0&&(m.theme=e[0].theme),o=new Pe({props:m}),M.push(()=>z(o,"theme",g)),{c(){t=$("div"),s=$("div"),H(n.$$.fragment),r=L(),H(o.$$.fragment),i=L(),a=$("button"),a.textContent="Settings",b(s,"class","hidden svelte-ratyh6"),b(t,"id","settings"),b(t,"class","svelte-ratyh6")},m(y,_){C(y,t,_),v(t,s),D(n,s,null),v(s,r),D(o,s,null),v(t,i),v(t,a),c=!0,u||(p=x(a,"click",e[1]),u=!0)},p(y,[_]){const k={};!l&&_&1&&(l=!0,k.data=y[0],q(()=>l=!1)),n.$set(k);const d={};!f&&_&1&&(f=!0,d.theme=y[0].theme,q(()=>f=!1)),o.$set(d)},i(y){c||(I(n.$$.fragment,y),I(o.$$.fragment,y),c=!0)},o(y){O(n.$$.fragment,y),O(o.$$.fragment,y),c=!1},d(y){y&&E(t),J(n),J(o),u=!1,p()}}}function Ke(e,t,s){let{data:n}=t;const l=()=>{document.getElementById("settings").getElementsByTagName("div")[0].classList.toggle("hidden")};function r(f){n=f,s(0,n)}function o(f){e.$$.not_equal(n.theme,f)&&(n.theme=f,s(0,n))}return e.$$set=f=>{"data"in f&&s(0,n=f.data)},[n,l,r,o]}class Ue extends F{constructor(t){super(),j(this,t,Ke,He,P,{data:0})}}function fe(e,t,s){const n=e.slice();return n[5]=t[s],n[6]=t,n[7]=s,n}function ce(e){let t,s,n,l;function r(i){e[2](i,e[5],e[6],e[7])}function o(i){e[3](i)}let f={};return e[5]!==void 0&&(f.event=e[5]),e[0].events!==void 0&&(f.events=e[0].events),t=new Me({props:f}),M.push(()=>z(t,"event",r)),M.push(()=>z(t,"events",o)),{c(){H(t.$$.fragment)},m(i,a){D(t,i,a),l=!0},p(i,a){e=i;const c={};!s&&a&1&&(s=!0,c.event=e[5],q(()=>s=!1)),!n&&a&1&&(n=!0,c.events=e[0].events,q(()=>n=!1)),t.$set(c)},i(i){l||(I(t.$$.fragment,i),l=!0)},o(i){O(t.$$.fragment,i),l=!1},d(i){J(t,i)}}}function Qe(e){let t,s,n,l,r,o,f,i,a,c,u,p;function w(d){e[1](d)}let B={};e[0].events!==void 0&&(B.events=e[0].events),s=new ze({props:B}),M.push(()=>z(s,"events",w));let g=e[0].events,m=[];for(let d=0;d<g.length;d+=1)m[d]=ce(fe(e,g,d));const y=d=>O(m[d],1,1,()=>{m[d]=null});function _(d){e[4](d)}let k={};return e[0]!==void 0&&(k.data=e[0]),f=new Ue({props:k}),M.push(()=>z(f,"data",_)),{c(){t=$("main"),H(s.$$.fragment),l=L(),r=$("div");for(let d=0;d<m.length;d+=1)m[d].c();o=L(),H(f.$$.fragment),a=L(),c=$("a"),c.textContent="GitHub",b(r,"class","events svelte-1ypi3sa"),b(c,"class","github svelte-1ypi3sa"),b(c,"target","_blank"),b(c,"href","https://github.com/karate/mark-time"),b(t,"class",u=re(e[0].theme)+" svelte-1ypi3sa")},m(d,h){C(d,t,h),D(s,t,null),v(t,l),v(t,r);for(let A=0;A<m.length;A+=1)m[A].m(r,null);v(t,o),D(f,t,null),v(t,a),v(t,c),p=!0},p(d,[h]){const A={};if(!n&&h&1&&(n=!0,A.events=d[0].events,q(()=>n=!1)),s.$set(A),h&1){g=d[0].events;let S;for(S=0;S<g.length;S+=1){const le=fe(d,g,S);m[S]?(m[S].p(le,h),I(m[S],1)):(m[S]=ce(le),m[S].c(),I(m[S],1),m[S].m(r,null))}for(_e(),S=g.length;S<m.length;S+=1)y(S);he()}const se={};!i&&h&1&&(i=!0,se.data=d[0],q(()=>i=!1)),f.$set(se),(!p||h&1&&u!==(u=re(d[0].theme)+" svelte-1ypi3sa"))&&b(t,"class",u)},i(d){if(!p){I(s.$$.fragment,d);for(let h=0;h<g.length;h+=1)I(m[h]);I(f.$$.fragment,d),p=!0}},o(d){O(s.$$.fragment,d),m=m.filter(Boolean);for(let h=0;h<m.length;h+=1)O(m[h]);O(f.$$.fragment,d),p=!1},d(d){d&&E(t),J(s),de(m,d),J(f)}}}function Re(e,t,s){let n={theme:"light",events:[],default:!0};window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(n.theme="dark"),ke(()=>{s(0,n=JSON.parse(localStorage.getItem("preferences"))||n),s(0,n.default=!1,n)});function l(i){e.$$.not_equal(n.events,i)&&(n.events=i,s(0,n))}function r(i,a,c,u){c[u]=i,s(0,n)}function o(i){e.$$.not_equal(n.events,i)&&(n.events=i,s(0,n))}function f(i){n=i,s(0,n)}return e.$$.update=()=>{e.$$.dirty&1&&n.default!==!0&&localStorage.setItem("preferences",JSON.stringify(n))},[n,l,r,o,f]}class Ve extends F{constructor(t){super(),j(this,t,Re,Qe,P,{})}}new Ve({target:document.getElementById("app")});
